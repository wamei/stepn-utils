(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var s,r,i,l=n(2809),a=n(809),c=n.n(a),d=n(266),o={Solana:"Solana",BSC:"BSC"},u=(s={},(0,l.Z)(s,o.Solana,{main:"solana",unit:"SOL",gst:"green-satoshi-token",gmt:"green-metaverse-token"}),(0,l.Z)(s,o.BSC,{main:"bnb",unit:"BNB",gst:"green-satoshi-token-bsc",gmt:"green-metaverse-token"}),s),g=(r={},(0,l.Z)(r,o.Solana,"#00ffbd"),(0,l.Z)(r,o.BSC,"#FCD535"),r),m=n(7294),h=n(5147),j=n(5893),x=[{level:1,gst:1,gmt:0},{level:2,gst:2,gmt:0},{level:3,gst:3,gmt:0},{level:4,gst:4,gmt:0},{level:5,gst:10,gmt:10},{level:6,gst:6,gmt:0},{level:7,gst:7,gmt:0},{level:8,gst:8,gmt:0},{level:9,gst:9,gmt:0},{level:10,gst:30,gmt:30},{level:11,gst:11,gmt:0},{level:12,gst:12,gmt:0},{level:13,gst:13,gmt:0},{level:14,gst:14,gmt:0},{level:15,gst:15,gmt:0},{level:16,gst:16,gmt:0},{level:17,gst:17,gmt:0},{level:18,gst:18,gmt:0},{level:19,gst:19,gmt:0},{level:20,gst:60,gmt:60},{level:21,gst:21,gmt:0},{level:22,gst:22,gmt:0},{level:23,gst:23,gmt:0},{level:24,gst:24,gmt:0},{level:25,gst:25,gmt:0},{level:26,gst:26,gmt:0},{level:27,gst:27,gmt:0},{level:28,gst:28,gmt:0},{level:29,gst:29,gmt:29},{level:30,gst:100,gmt:100}],p=function(e){var t,n,s,r=e.realm,i=e.crypts,l=e.data,a=u[r],c=(null===(t=i.find((function(e){return e.id===a.gst})))||void 0===t?void 0:t.jpy)||0,d=(null===(n=i.find((function(e){return e.id===a.gmt})))||void 0===n?void 0:n.jpy)||0,o=(null===(s=i.find((function(e){return e.id===a.main})))||void 0===s?void 0:s.jpy)||0,g=l.gst*c+l.gmt*d,m=x.filter((function(e){return e.level<=l.level})),h=m.reduce((function(e,t){return e+t.gst}),0)*c+m.reduce((function(e,t){return e+t.gmt}),0)*d;return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:l.level}),(0,j.jsxs)("td",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gst,".png"),alt:"GST",width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:l.gst})]}),(0,j.jsx)("td",{children:l.gmt>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gmt,".png"),alt:"GMT",width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:l.gmt})]})}),(0,j.jsx)("td",{children:(g/o).toFixed(3)}),(0,j.jsx)("td",{children:(h/o).toFixed(3)})]},l.level)},f=function(e){var t=e.crypts,n=e.realm;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(h.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Level"}),(0,j.jsxs)("th",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[n].gst,".png"),alt:"GST",width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:"GST"})]}),(0,j.jsxs)("th",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[n].gmt,".png"),alt:"GMT",width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:"GMT"})]}),(0,j.jsxs)("th",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[n].main,".png"),alt:u[n].unit,width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:u[n].unit})]}),(0,j.jsxs)("th",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[n].main,".png"),alt:u[n].unit,width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:"\u7d2f\u8a08"})]})]})}),(0,j.jsx)("tbody",{children:x.map((function(e){return(0,j.jsx)(p,{crypts:t,realm:n,data:e},e.level)}))})]})})},v={Common:"Common",Uncommon:"Uncommon"},y=(i={},(0,l.Z)(i,v.Common,"#d3d3d3"),(0,l.Z)(i,v.Uncommon,"#98fb98"),i),b=n(3458),Z=n(4051),N=n(1555);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=[0,1,2,3,4,5,6],C=function(e){return e===v.Uncommon?4:1},F=function(e){var t,n,s,r=e.realm,i=e.crypts,l=e.mintingRate,a=e.r1,c=e.m1,d=e.r2,o=e.m2,h=e.floorPrice;if(!r)throw new Promise((function(){}));var x=(0,m.useState)(!1),p=x[0],f=x[1],v=function(e,t,n,s,r){var i=e.gst/2*C(t),l=e.gst/2*C(s),a=e.gmt/2*C(t),c=e.gmt/2*C(s);return{gst:i+i/2*Math.max(0,n-1)+l+l/2*Math.max(0,r-1),gmt:a+a/2*Math.max(0,n-1)+c+c/2*Math.max(0,r-1)}}(l,a,c,d,o),y=u[r],S=(null===(t=i.find((function(e){return e.id===y.gst})))||void 0===t?void 0:t.jpy)||0,O=(null===(n=i.find((function(e){return e.id===y.gmt})))||void 0===n?void 0:n.jpy)||0,F=(null===(s=i.find((function(e){return e.id===y.main})))||void 0===s?void 0:s.jpy)||0,P=1.02*(v.gst*S+v.gmt*O),k=20*S+10*O,T=P/.94,E=(P+k)/.94;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{onClick:function(){return f(!0)},className:"p-1",style:w({},h<E/F?{backgroundColor:"rgba(255, 0, 0, 0.3)"}:{}),children:[(0,j.jsxs)("small",{className:"text-nowrap",children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gst,".png"),alt:"GST",width:"10",height:"10"}),(0,j.jsx)("span",{className:"align-middle",children:v.gst})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{className:"text-nowrap",children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gmt,".png"),alt:"GMT",width:"10",height:"10"}),(0,j.jsx)("span",{className:"align-middle",children:v.gmt})]})]}),(0,j.jsxs)(b.Z,{show:p,onHide:function(){return f(!1)},children:[(0,j.jsx)(b.Z.Header,{style:{backgroundColor:g[r]},closeButton:!0,children:(0,j.jsxs)(b.Z.Title,{children:[(0,j.jsx)("img",{className:"me-2 align-middle",src:"/stepn-utils/".concat(u[r].main,".png"),alt:r,width:"20",height:"20"}),(0,j.jsxs)("span",{className:"align-middle",children:[a," ",c," x ",d," ",o]})]})}),(0,j.jsxs)(b.Z.Body,{children:[(0,j.jsx)("div",{children:(0,j.jsxs)("strong",{children:[(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gst,".png"),alt:"GST",width:"15",height:"15"}),(0,j.jsxs)("span",{className:"me-2 align-middle",children:[v.gst,"GST"]}),(0,j.jsx)("img",{className:"align-middle",src:"/stepn-utils/".concat(u[r].gmt,".png"),alt:"GMT",width:"15",height:"15"}),(0,j.jsxs)("span",{className:"align-middle",children:[v.gmt,"GMT"]})]})}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{children:["\u30df\u30f3\u30c8\u8cbb\u7528",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(P/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",P.toFixed(2)]})]}),(0,j.jsxs)("strong",{children:["\u6700\u4f4e\u8ca9\u58f2\u4fa1\u683c",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(T/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",T.toFixed(2)]})]})]}),(0,j.jsxs)("small",{children:["\u5229\u76ca",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(h-T/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",(h*F-T).toFixed(2)]})]})]})]}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{children:["Lvup\u8fbc\u8cbb\u7528",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[((P+k)/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",(P+k).toFixed(2)]})]}),(0,j.jsxs)("strong",{children:["\u6700\u4f4e\u8ca9\u58f2\u4fa1\u683c",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(E/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",E.toFixed(2)]})]})]}),(0,j.jsxs)("small",{children:["\u5229\u76ca",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(h-E/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",(h*F-E).toFixed(2)]})]})]})]}),(0,j.jsx)("hr",{}),(0,j.jsx)("div",{children:(0,j.jsxs)("small",{children:["Lvup\u8cbb\u7528",(0,j.jsx)("br",{}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsxs)(N.Z,{children:[(k/F).toFixed(2),y.unit]}),(0,j.jsxs)(N.Z,{children:["\xa5",k.toFixed(2)]})]})]})})]})]})]})},P=function(e){var t=e.mintingRate,n=e.rarerity1,s=e.rarerity2,r=e.realm,i=e.crypts,l=e.floorPrice;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"text-start",children:(0,j.jsx)("small",{children:"\u8cbb\u7528\u8868\u30bf\u30c3\u30d7\u3067\u8a73\u7d30\u3092\u78ba\u8a8d"})}),(0,j.jsx)(h.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{}),O.map((function(e){return(0,j.jsx)("td",{style:{backgroundColor:y[n]},children:e},e)}))]}),O.map((function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{backgroundColor:y[s]},children:e}),O.map((function(a){return(0,j.jsx)("td",{className:"p-0",children:(0,j.jsx)(F,{realm:r,crypts:i,mintingRate:t,r1:n,m1:a,r2:s,m2:e,floorPrice:l})},a)}))]},e)}))]})})]})},k=n(9603),T=[{gst:40,gmt:160},{gst:80,gmt:120},{gst:100,gmt:100},{gst:120,gmt:80},{gst:160,gmt:40},{gst:200,gmt:0}],E=function(e){var t=e.value,n=e.onChange,s=e.gstPrice,r=(0,m.useState)(t),i=r[0],l=r[1];return(0,m.useEffect)((function(){var e={gst:100,gmt:100};s<2?e={gst:200,gmt:0}:s>=2&&s<3?e={gst:160,gmt:40}:s>=3&&s<4?e={gst:120,gmt:80}:s>=4&&s<8?e={gst:100,gmt:100}:s>=8&&s<10?e={gst:80,gmt:120}:s>=10&&(e={gst:40,gmt:160}),l(e),n(e)}),[s,n]),(0,j.jsx)(k.Z.Select,{value:JSON.stringify(i),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=JSON.parse(e.target.value);l(t),n(t)})),className:"mb-2",children:T.map((function(e){var t=JSON.stringify(e);return(0,j.jsxs)("option",{value:t,children:[e.gst,"GST-",e.gmt,"GMT"]},t)}))})},B=n(2086),G=n(4381),_=function(e){var t=e.value,n=e.onChange;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(B.Z,{className:"mb-2",children:Object.values(o).map((function(e){return(0,j.jsxs)(G.Z,{id:"radio-realm-".concat(e),type:"radio",variant:"light",name:"radio",value:e,checked:t===e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e.currentTarget.value)})),style:{backgroundColor:t===e?g[e]:""},children:[(0,j.jsx)("img",{className:"me-1 align-middle",src:"/stepn-utils/".concat(u[e].main,".png"),alt:e,width:"20",height:"20"}),(0,j.jsx)("span",{className:"align-middle",children:e})]},e)}))})})},M=function(e){var t=e.id,n=e.value,s=e.onChange;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(B.Z,{className:"mb-2",children:Object.values(v).map((function(e){return(0,j.jsx)(G.Z,{id:"radio-rarerity-".concat(t,"-").concat(e),type:"radio",variant:"light",name:"radio",value:e,checked:n===e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return s(e.currentTarget.value)})),style:{backgroundColor:n===e?y[e]:""},children:e},e)}))})})},A="CryptocurrenciesResponse",D=function(){var e=(0,d.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://script.google.com/macros/s/AKfycbxehX_2FJ-NopjtNC0EffWz0IAlw_HeInxY14M5R-p3WTC-HnBsQXB-WX1p6pvsvNud7A/exec");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,localStorage.setItem(A,JSON.stringify(n)),e.abrupt("return",n.map((function(e){return{id:e.id,symbol:e.symbol,name:e.name,jpy:e.jpy,usd:e.usd,lastUpdatedAt:new Date(e.lastUpdatedAt)}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=localStorage.getItem(A);return e?JSON.parse(e).map((function(e){return{id:e.id,symbol:e.symbol,name:e.name,jpy:e.jpy,usd:e.usd,lastUpdatedAt:new Date(e.lastUpdatedAt)}})):null},I=n(2540),R=n(682),q=n(5273),H=n(2230);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){var e,t,n=(0,I.useRouter)(),s=(0,m.useState)([]),r=s[0],i=s[1],a=(0,m.useState)({gst:100,gmt:100}),g=a[0],x=a[1],p=(0,m.useState)(v.Common),y=p[0],b=p[1],Z=(0,m.useState)(v.Common),N=Z[0],S=Z[1],w=(0,m.useState)(o.BSC),O=w[0],C=w[1],F=(0,m.useState)(""),T=F[0],B=F[1],G=(0,m.useState)({}),A=G[0],K=G[1],L=function(){var e=(0,d.Z)(c().mark((function e(){var t,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=U())){e.next=5;break}if(i(t),!((new Date).getTime()<((null===(n=t[0])||void 0===n?void 0:n.lastUpdatedAt.getTime())||0)+3e5)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,D();case 7:s=e.sent,i(s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){L()}),[]);var X=function(e){window.history.replaceState({},"","".concat(location.origin).concat(location.pathname,"?").concat(Object.entries(J({},e)).flatMap((function(e){return e[1]?["".concat(e[0],"=").concat(e[1])]:[]})).join("&")))};return(0,m.useEffect)((function(){var e=n.query.realm;n.query.realm&&C(e),n.query[e]&&B(String(n.query[e])),Object.values(o).forEach((function(e){n.query[e]&&K((function(t){return J(J({},t),{},(0,l.Z)({},e,Number(n.query[e])))}))}))}),[n.query]),(0,m.useEffect)((function(){X(J({realm:O},A))}),[X,O,A]),(0,m.useEffect)((function(){B(String(A[O]))}),[O]),(0,m.useEffect)((function(){K((function(e){return J(J({},e),{},(0,l.Z)({},O,Number(T)))}))}),[T]),(0,j.jsxs)(R.Z,{className:"mt-0 p-0",children:[(0,j.jsx)(q.Z,{defaultActiveKey:"0",children:(0,j.jsxs)(q.Z.Item,{eventKey:"0",children:[(0,j.jsx)(q.Z.Header,{children:"\u4eee\u60f3\u901a\u8ca8\u4fa1\u683c"}),(0,j.jsxs)(q.Z.Body,{children:[0===r.length&&(0,j.jsx)("p",{children:"Loading..."}),(0,j.jsx)(h.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"mb-0",children:(0,j.jsx)("tbody",{children:r.map((function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{children:[(0,j.jsx)("img",{className:"me-1 align-middle",src:"/stepn-utils/".concat(e.id,".png"),alt:e.name,width:"15",height:"15"}),(0,j.jsx)("span",{className:"align-middle",children:e.symbol})]}),(0,j.jsxs)("td",{children:["\xa5",e.jpy]}),(0,j.jsxs)("td",{children:["$",e.usd]})]},e.id)}))})}),(0,j.jsx)("div",{className:"text-end",children:(0,j.jsxs)("small",{children:["\u6700\u7d42\u66f4\u65b0\u65e5\u6642 ",null===(e=r[0])||void 0===e?void 0:e.lastUpdatedAt.toLocaleString()]})})]})]})}),(0,j.jsx)(q.Z,{defaultActiveKey:"0",children:(0,j.jsxs)(q.Z.Item,{eventKey:"0",children:[(0,j.jsx)(q.Z.Header,{children:"\u30df\u30f3\u30c8\u8cbb\u7528"}),(0,j.jsxs)(q.Z.Body,{children:[(0,j.jsx)(_,{value:O,onChange:C}),(0,j.jsx)(E,{value:g,onChange:x,gstPrice:(null===(t=r.find((function(e){return e.id===u[O].gst})))||void 0===t?void 0:t.usd)||5}),(0,j.jsx)(M,{id:"r1",value:y,onChange:b}),(0,j.jsx)(M,{id:"r2",value:N,onChange:S}),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(H.Z,{controlId:"floatingInput",label:"\u30d5\u30ed\u30a2\u4fa1\u683c(".concat(u[O].unit,")"),className:"mb-3",children:(0,j.jsx)(k.Z.Control,{type:"number",value:T,onChange:function(e){B(e.target.value)}})})}),(0,j.jsx)(P,{mintingRate:g,rarerity1:y,rarerity2:N,realm:O,crypts:r,floorPrice:A[O]||0})]})]})}),(0,j.jsx)(q.Z,{defaultActiveKey:"0",children:(0,j.jsxs)(q.Z.Item,{eventKey:"0",children:[(0,j.jsx)(q.Z.Header,{children:"\u30ec\u30d9\u30eb\u30a2\u30c3\u30d7\u8cbb\u7528"}),(0,j.jsxs)(q.Z.Body,{children:[(0,j.jsx)(_,{value:O,onChange:C}),(0,j.jsx)(f,{crypts:r,realm:O})]})]})})]})};L.suppressFirstRenderFlicker=!0;var X=L},7540:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9970)}])}},function(e){e.O(0,[774,841,888,179],(function(){return t=7540,e(e.s=t);var t}));var t=e.O();_N_E=t}]);