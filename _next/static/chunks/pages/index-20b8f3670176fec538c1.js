(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6756:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var r,s,i,o=n(2809),c=n(809),a=n.n(c),u=n(266),l={Solana:"Solana",BSC:"BSC"},d=(r={},(0,o.Z)(r,l.Solana,{main:"solana",unit:"SOL",gst:"green-satoshi-token",gmt:"green-metaverse-token"}),(0,o.Z)(r,l.BSC,{main:"bnb",unit:"BNB",gst:"green-satoshi-token-bsc",gmt:"green-metaverse-token"}),r),m=(s={},(0,o.Z)(s,l.Solana,"#00ffbd"),(0,o.Z)(s,l.BSC,"#FCD535"),s),f={Common:"Common",Uncommon:"Uncommon"},j=(i={},(0,o.Z)(i,f.Common,"#d3d3d3"),(0,o.Z)(i,f.Uncommon,"#98fb98"),i),h=n(7294),g=n(3458),x=n(4051),p=n(1555),v=n(5147),y=n(5893);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=[0,1,2,3,4,5,6],S=function(e){return e===f.Uncommon?4:1},C=function(e){var t,n,r,s=e.realm,i=e.crypts,o=e.mintingRate,c=e.r1,a=e.m1,u=e.r2,l=e.m2,f=e.floorPrice;if(!s)throw new Promise((function(){}));var j=(0,h.useState)(!1),v=j[0],b=j[1],O=function(e,t,n,r,s){var i=e.gst/2*S(t),o=e.gst/2*S(r),c=e.gmt/2*S(t),a=e.gmt/2*S(r);return{gst:i+i/2*Math.max(0,n-1)+o+o/2*Math.max(0,s-1),gmt:c+c/2*Math.max(0,n-1)+a+a/2*Math.max(0,s-1)}}(o,c,a,u,l),C=d[s],w=(null===(t=i.find((function(e){return e.id===C.gst})))||void 0===t?void 0:t.jpy)||0,N=(null===(n=i.find((function(e){return e.id===C.gmt})))||void 0===n?void 0:n.jpy)||0,P=(null===(r=i.find((function(e){return e.id===C.main})))||void 0===r?void 0:r.jpy)||0,k=1.02*(O.gst*w+O.gmt*N),F=20*w+10*N,E=k/.94,_=(k+F)/.94;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{onClick:function(){return b(!0)},className:"p-1",style:Z({},f<_/P?{backgroundColor:"rgba(255, 0, 0, 0.3)"}:{}),children:[O.gst,(0,y.jsx)("br",{}),O.gmt]}),(0,y.jsxs)(g.Z,{show:v,onHide:function(){return b(!1)},children:[(0,y.jsx)(g.Z.Header,{style:{backgroundColor:m[s]},closeButton:!0,children:(0,y.jsxs)(g.Z.Title,{children:[c," ",a," x ",u," ",l]})}),(0,y.jsxs)(g.Z.Body,{children:[(0,y.jsx)("div",{children:(0,y.jsxs)("strong",{children:["GST",O.gst,"-GMT",O.gmt]})}),(0,y.jsx)("hr",{}),(0,y.jsxs)("div",{children:["\u30df\u30f3\u30c8\u8cbb\u7528",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(k/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",k.toFixed(2)]})]}),(0,y.jsxs)("strong",{children:["\u6700\u4f4e\u8ca9\u58f2\u4fa1\u683c",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(E/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",E.toFixed(2)]})]})]}),(0,y.jsxs)("small",{children:["\u5229\u76ca",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(f-E/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",(f*P-E).toFixed(2)]})]})]})]}),(0,y.jsx)("hr",{}),(0,y.jsxs)("div",{children:["Lvup\u8fbc\u8cbb\u7528",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[((k+F)/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",(k+F).toFixed(2)]})]}),(0,y.jsxs)("strong",{children:["\u6700\u4f4e\u8ca9\u58f2\u4fa1\u683c",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(_/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",_.toFixed(2)]})]})]}),(0,y.jsxs)("small",{children:["\u5229\u76ca",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(f-_/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",(f*P-_).toFixed(2)]})]})]})]}),(0,y.jsx)("hr",{}),(0,y.jsx)("div",{children:(0,y.jsxs)("small",{children:["Lvup\u8cbb\u7528",(0,y.jsx)("br",{}),(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)(p.Z,{children:[(F/P).toFixed(2),C.unit]}),(0,y.jsxs)(p.Z,{children:["\xa5",F.toFixed(2)]})]})]})})]})]})]})},w=function(e){var t=e.mintingRate,n=e.rarerity1,r=e.rarerity2,s=e.realm,i=e.crypts,o=e.floorPrice;return(0,y.jsx)(v.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{}),O.map((function(e){return(0,y.jsx)("td",{style:{backgroundColor:j[n]},children:e},e)}))]}),O.map((function(e){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:j[r]},children:e}),O.map((function(c){return(0,y.jsx)("td",{className:"p-0",children:(0,y.jsx)(C,{realm:s,crypts:i,mintingRate:t,r1:n,m1:c,r2:r,m2:e,floorPrice:o})},c)}))]},e)}))]})})},N=n(9603),P=[{gst:40,gmt:160},{gst:80,gmt:120},{gst:100,gmt:100},{gst:120,gmt:80},{gst:160,gmt:40},{gst:200,gmt:0}],k=function(e){var t=e.value,n=e.onChange,r=e.gstPrice,s=(0,h.useState)(t),i=s[0],o=s[1];return(0,h.useEffect)((function(){var e={gst:100,gmt:100};r<2?e={gst:200,gmt:0}:r>=2&&r<3?e={gst:160,gmt:40}:r>=3&&r<4?e={gst:120,gmt:80}:r>=4&&r<8?e={gst:100,gmt:100}:r>=8&&r<10?e={gst:80,gmt:120}:r>=10&&(e={gst:40,gmt:160}),o(e),n(e)}),[r,n]),(0,y.jsx)(N.Z.Select,{value:JSON.stringify(i),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=JSON.parse(e.target.value);o(t),n(t)})),className:"mb-2",children:P.map((function(e){var t=JSON.stringify(e);return(0,y.jsxs)("option",{value:t,children:["GST",e.gst,"-GMT",e.gmt]},t)}))})},F=n(2086),E=n(4381),_=function(e){var t=e.value,n=e.onChange;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(F.Z,{className:"mb-2",children:Object.values(l).map((function(e){return(0,y.jsx)(E.Z,{id:"radio-realm-".concat(e),type:"radio",variant:"light",name:"radio",value:e,checked:t===e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e.currentTarget.value)})),style:{backgroundColor:t===e?m[e]:""},children:e},e)}))})})},B=function(e){var t=e.id,n=e.value,r=e.onChange;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(F.Z,{className:"mb-2",children:Object.values(f).map((function(e){return(0,y.jsx)(E.Z,{id:"radio-rarerity-".concat(t,"-").concat(e),type:"radio",variant:"light",name:"radio",value:e,checked:n===e,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.currentTarget.value)})),style:{backgroundColor:n===e?j[e]:""},children:e},e)}))})})},D="CryptocurrenciesResponse",A=function(){var e=(0,u.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://script.google.com/macros/s/AKfycbxehX_2FJ-NopjtNC0EffWz0IAlw_HeInxY14M5R-p3WTC-HnBsQXB-WX1p6pvsvNud7A/exec");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,localStorage.setItem(D,JSON.stringify(n)),e.abrupt("return",n.map((function(e){return{id:e.id,symbol:e.symbol,name:e.name,jpy:e.jpy,usd:e.usd,lastUpdatedAt:new Date(e.lastUpdatedAt)}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=localStorage.getItem(D);return e?JSON.parse(e).map((function(e){return{id:e.id,symbol:e.symbol,name:e.name,jpy:e.jpy,usd:e.usd,lastUpdatedAt:new Date(e.lastUpdatedAt)}})):null},U=n(2540),I=n(682),M=n(5273),R=n(2230);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){var e,t,n=(0,U.useRouter)(),r=(0,h.useState)([]),s=r[0],i=r[1],c=(0,h.useState)({gst:100,gmt:100}),m=c[0],j=c[1],g=(0,h.useState)(f.Common),x=g[0],p=g[1],b=(0,h.useState)(f.Common),Z=b[0],O=b[1],S=(0,h.useState)(l.BSC),C=S[0],P=S[1],F=(0,h.useState)(""),E=F[0],D=F[1],q=(0,h.useState)({}),J=q[0],K=q[1],L=function(){var e=(0,u.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(t=T())&&i(t),e.next=4,A();case 4:n=e.sent,i(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){L()}),[]);var X=function(e){window.history.replaceState({},"","".concat(location.origin).concat(location.pathname,"?").concat(Object.entries(H({},e)).flatMap((function(e){return e[1]?["".concat(e[0],"=").concat(e[1])]:[]})).join("&")))};return(0,h.useEffect)((function(){var e=n.query.realm;n.query.realm&&P(e),n.query[e]&&D(String(n.query[e])),Object.values(l).forEach((function(e){n.query[e]&&K((function(t){return H(H({},t),{},(0,o.Z)({},e,Number(n.query[e])))}))}))}),[n.query]),(0,h.useEffect)((function(){X(H({realm:C},J))}),[X,C,J]),(0,h.useEffect)((function(){D(String(J[C]))}),[C]),(0,h.useEffect)((function(){K((function(e){return H(H({},e),{},(0,o.Z)({},C,Number(E)))}))}),[E]),(0,y.jsxs)(I.Z,{className:"mt-0 p-0",children:[(0,y.jsx)(M.Z,{defaultActiveKey:"0",children:(0,y.jsxs)(M.Z.Item,{eventKey:"0",children:[(0,y.jsx)(M.Z.Header,{children:"\u4eee\u60f3\u901a\u8ca8\u4fa1\u683c"}),(0,y.jsxs)(M.Z.Body,{children:[0===s.length&&(0,y.jsx)("p",{children:"Loading..."}),(0,y.jsx)(v.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"mb-0",children:(0,y.jsx)("tbody",{children:s.map((function(e){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.symbol}),(0,y.jsxs)("td",{children:["\xa5",e.jpy]}),(0,y.jsxs)("td",{children:["$",e.usd]})]},e.id)}))})}),(0,y.jsx)("div",{className:"text-end",children:(0,y.jsxs)("small",{children:["\u6700\u7d42\u66f4\u65b0\u65e5\u6642 ",null===(e=s[0])||void 0===e?void 0:e.lastUpdatedAt.toLocaleString()]})})]})]})}),(0,y.jsx)(M.Z,{defaultActiveKey:"0",children:(0,y.jsxs)(M.Z.Item,{eventKey:"0",children:[(0,y.jsx)(M.Z.Header,{children:"\u30df\u30f3\u30c8\u8cbb\u7528"}),(0,y.jsxs)(M.Z.Body,{children:[(0,y.jsx)(_,{value:C,onChange:P}),(0,y.jsx)(k,{value:m,onChange:j,gstPrice:(null===(t=s.find((function(e){return e.id===d[C].gst})))||void 0===t?void 0:t.usd)||5}),(0,y.jsx)(B,{id:"r1",value:x,onChange:p}),(0,y.jsx)(B,{id:"r2",value:Z,onChange:O}),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(R.Z,{controlId:"floatingInput",label:"\u30d5\u30ed\u30a2\u4fa1\u683c(".concat(d[C].unit,")"),className:"mb-3",children:(0,y.jsx)(N.Z.Control,{type:"number",value:E,onChange:function(e){D(e.target.value)}})})}),(0,y.jsx)(w,{mintingRate:m,rarerity1:x,rarerity2:Z,realm:C,crypts:s,floorPrice:J[C]||0})]})]})})]})};J.suppressFirstRenderFlicker=!0;var K=J},7540:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6756)}])}},function(e){e.O(0,[774,841,888,179],(function(){return t=7540,e(e.s=t);var t}));var t=e.O();_N_E=t}]);